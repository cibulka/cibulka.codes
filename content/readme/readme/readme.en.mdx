<div align="center" className="flex flex-col items-center gap-4">
  <img src="https://www.cibulka.codes/onion-dark.png" height="128" width="128" />
  <h1 align="center" className="text-3xl md:text-5xl font-bold">
    <a href="https://www.cibulka.codes">www.cibulka.codes</a>
  </h1>
</div>

<br />

<div align="center" className="flex justify-center items-center gap-4">
  <a aria-label="Next.js" href="https://www.nextjs.org">
    <img src="https://img.shields.io/badge/Next.js-black?logo=next.js&labelColor=black" />
  </a>
  <a aria-label="TypeScript" href="https://www.typescriptlang.org/">
    <img src="https://img.shields.io/badge/TypeScript-black?logo=TypeScript&labelColor=black" />
  </a>
  <a aria-label="Tailwind" href="https://tailwindcss.com/">
    <img src="https://img.shields.io/badge/Tailwind_CSS-black?logo=tailwindcss&labelColor=black" />
  </a>
  <a aria-label="MDX" href="https://www.contentlayer.dev">
    <img src="https://img.shields.io/badge/MDX-black?logo=mdx&labelColor=black" />
  </a>
  <a aria-label="My resumé" href="https://www.cibulka.codes/en/cv.pdf">
    <img src="https://img.shields.io/badge/Download_my_resumé!-blue" />
  </a>
</div>

<br />

<img src="https://www.cibulka.codes/screenshot.png" className="mb-12" width="768" height="576" />

## ❓ What is this?

[www.cibulka.codes](https://www.cibulka.codes) is my **portfolio** built with Next.js and managed with MDX.

## 📦  Features

<details>
  <summary>🚧 <strong>Next.js app router</strong></summary>
  <br />

The "app router" opens Next.js to React server components. It packs **very powerful features** focused on performance and security, but had some learning curve and also was _relatively unstable_ for some time.

The update allows me to handle a lot of things server-side (image generation, fetching and prefetching data, localization), making things faster and more secure. Like in good old PHP days. 🐘

Certain aspects of the sollution still leaves me _somewhat frustrated_ (the lack of in-built internalization sollution, for instance), but ultimately **I'm happy for the switch**.

</details>

<br />

<details>
  <summary>🌐 <strong>Internalization</strong> (i18n)</summary>
  <br />
  
  A point of frustration with Next.js app router. **The pages router had an in-built solution** for providing multiple language versions of your site - it worked out of the box and very well. 
  
  Next.js 13, however, listed i18n as a "not planned feature". This prompted the community to find its own sollutions, leading to further instability and breaking updates. 
  
  After some months the team finally shared [a guide on how you can implement i18n on your own](https://nextjs.org/docs/app/building-your-application/routing/internationalization), also community created a useful router plugin [next-i18n-router](https://github.com/i18nexus/next-i18n-router).
</details>

<br />

<details>
  <summary>✍️ <strong>MDX administration with Contentlayer</strong></summary>
  <br />

I love Markdown and I am _obssesed_ with MDX! Here's my reasoning:

1. Even the raw format of your content is **easily readable** for both humans _and_ machines.
2. Each piece of the content can be literally **a file in a folder**. You can query them through filesystem, which is usually quite simple and always very fast.
3. MDX combines interactive JSX components with standard Markdown. This allows you to create **a sort of an API** for a content manager - giving them enough flexibility to use the tools you've prepared for them while limiting the complexity.
4. Due to the simplicity of the format, it is incredibly **easy to convert it** to anything else you need.
5. Let's cut out the middleman! There is **no need for CMS** with this sollution.

A brilliant library [Contentlayer](https://www.contentlayer.dev) turns the MDX files to JSON files during the build step (and creates their TypeScript definitions right away). This works especially well with Next.js 13 and server components, which allows you to leave most of the bulk on the server (and send to the client only the actual content).

</details>

<br />

<details>
  <summary>📋 <strong>PDF export</strong></summary>
  <br />

Creating and maintaining one's CV can be a bit of pain. Duplication is one of the issues: Is your PDF portfolio in sync with your web CV? In all the language versions?

For this reason I've created an [automated page generating my CV in print-friendly format](https://www.cibulka.codes/cv). The content comes from MDX files, that are shared between the website, public API and the CV.

The PDF version of the CV is automated by [a Puppetteer-powered script](https://pptr.dev/). For now I run it manually through NPM script - and whenever I _finally_ learn the GIT actions, this will probably be automated as well. 💪

</details>

<br />

<details>
  <summary>🎥 <strong>Custom video player</strong></summary>
  <br />
  
  Nothing special here, just wanted to have a bit more control on how the video is handled (and frankly it was just fun). There are however still some things to polish (allowing the user to change the time, for instance).
</details>

<br />

<details>
  <summary>🕹️ <strong>Tetris</strong></summary>
  <br />
  
  My portfolio also contains **my shot at Tetris game**. [Give it a try](https://www.cibulka.codes/tetris), even if it's a bit addictive! 🍭 Or check [the repo of the project](https://www.github.com/cibulka/react-tetris-ts).
</details>

## 🔧  Install & Use

You know the drill.

```
npm install
npm run dev # For development
npm run build && npm start # For production preview
```

PDF is generated with Puppetteer right from [http://localhost:3000](http://localhost:3000), so the page must be available on that link during the build time. Whenever it is, run:

```
npm run cv
```
